
<% if( typeof title == 'string' && title){ title = title } else{ title="" } %>
<% include ../../masterpage/loader %>

<script src="../../../../<%= js_css_version %>/javascripts/class-product-speciality.js"></script>	
<script src="../../../../<%= js_css_version %>/javascripts/class-bussiness.js"></script>	
<div id="page_wrap" class="page_wrap">
<div id="layout" class="page_width layout">
<div id="content-wrap" class="content_wrap">
<!-- --------------------
page wrap 
--------------------- -->
<% include ../../masterpage/header %>





<!-- --------------------
content
--------------------- -->
<div id="content" class="content">

	<h1><a href="/stores/manage/<%= store_id %>/<%= user_id %>"><%= store_name %></a><i class="fas fa-chevron-right"></i>Sản phẩm</h1>
	
	<!--<div class="store_row">
		<button id = "all" class="btn_add_store  active" data_btn="all"><a href="#">Tất cả</a></button>
		<button id = "complate" class="btn_add_store" data_btn="all"><a href="#">Dã phê duyệt</a></button>
		<button id = "new" class="btn_add_store" data_btn="new"><a href="#">Sản phẩm mới chờ sử lý</a></button>
		<button id = "update" class="btn_add_store" data_btn="update"><a href="#">sản phẩm chỉnh sữa</a></button>
		<button id = "not" class="btn_add_store" data_btn="not"><a href="#">Sản phẩm bị từ chối</a></button>
	</div>	-->	
		
	<div class="sap_xep_loc">
		<div class="sap_xep_wrap">
			<a href="/products/<%= service_type_name %>/add/<%= store_id %>/<%= user_id %>" class="btn_green">Thêm sản phẩm</a>
			<select id="sap_xep_sp">
				<option value="ten">Sắp xếp theo tên</option>
				<option value="moinhat">Mới nhất</option>
				<option value="giacao">Giá cao > thấp</option>
				<option value="giathap">Giá thấp > cao</option>
				<option value="banchay">Bán chạy</option>
			</select>
		</div>
		<div class="loc_wrap">
			<select id="loc_danh_muc">
				<option value="all">Tất cả danh mục</option>
				<option>Mứt dâu</option>
				<option>Cà phê</option>
			</select>
			<select id="loc_km">
				<option value="all">Tất cả giá</option>
				<option value="đangkhuyếnmãi">Đang giảm giá</option>
				<option value="khuyếnmãivôthờihạn">Luôn giảm giá</option>
				<option value="đãhếthạn">Hết hạn giảm giá</option>
				<option value="">Không giảm giá</option>
			</select>
			<select id="loc_trang_thai">
				<option id="all" value="[0,1,2,3]">Tất cả trạng thái</option>
				<option id="checking" value="[0]">Chờ duyệt</option>
				<option id="edit" value="[2]">Đã sửa chờ duyệt</option>
				<option id="refuse" value="[3]">Bị từ chối</option>
				<option id="checked" value="[1]">Đã duyệt</option>
			</select>
		</div>
	</div>
	
	<div id="ajax-wrap">
	<% include ../../masterpage/widget-product-speciality-show-tables %>
	</div>
	
	
<input type="hidden" id="store_id" value="<%= store_id %>"/>
<input type="hidden" id="user_id" value="<%= user_id %>"/>

</div>
<!----------------------
end content
----------------------->


<% include ../../masterpage/footer %>

</div><!-- //content_wrap -->	


<% include ../../masterpage/sidebar %>

<!----------------------
//end of page wrap 
----------------------->
</div><!-- //layout -->	
</div><!-- //pagewrap -->

<script>
$(document).ready(function($){
/////////////////////////////////////////////////////	
	//
	//@
	//xoa
	$(document).on('click','.submitdelete',function(e) {	
		//@
		e.preventDefault();		
		let product_id = $(this).attr("data_product_id");
		//
		//@
		let x = "xác nhận xoá";		
		let y = "delete_product_speciality";//function name in callback 
		let z = ' { "product_id" : "' + product_id + '" }';
		ojs_message.message_yes_no_show(x,y,z);		
		//@
	});			
	//		
	//	
	
	
	//
	//@
	//add class active
	$(document).on('click','.btn_add_store',function(e) {	
		e.preventDefault();
		$('.store_row').find('.btn_add_store').removeClass('active');
		$(this).addClass('active');
	});//end of function	
	//@
	//@	
	
	//sap xep san pham
	///////////////////////////
	$("#sap_xep_sp").change(function() {
		let user_id = $('#user_id').val();
		let store_id = $('#store_id').val();
		let kieu_sap_xep = $('#sap_xep_sp').val();
		
		var datas = {
			"datas":{
				user_id 	: user_id,
				store_id	:store_id,
				kieu_sap_xep : kieu_sap_xep
			}
		}	
		//console.log(datas);
		//return;
		ojs_bussiness.ajax_load_products(datas);	
	});
	
	
	//Loc han khuyen mai
	///////////////////////////
	$("#loc_km").change(function() {
		let user_id = $('#user_id').val();
		let store_id = $('#store_id').val();
		let han_km = $('#loc_km').val();
		
		var datas = {
			"datas":{
				user_id 	: user_id,
				store_id	:store_id,
				han_km : han_km
			}
		}	
		//console.log(datas);
		//return;
		ojs_bussiness.ajax_load_products(datas);	
	});
	
	//Loc trang thai san pham
	///////////////////////////
	$("#loc_trang_thai").change(function() {
		let user_id = $('#user_id').val();
		let store_id = $('#store_id').val();
		let status_admin = $('#loc_trang_thai').val();
		
		var datas = {
			"datas":{
				user_id 	: user_id,
				store_id	:store_id,
				status_admin : status_admin
			}
		}	
		//console.log(datas);
		//return;
		ojs_bussiness.ajax_load_products(datas);	
	});
	
	/*
	//@
	//goi ajax
	$(document).on('click','#all',function(e) {	
		e.preventDefault();
		//@
		//@
		let user_id = $('#user_id').val();
		let store_id = $('#store_id').val();
		let status_admin = [0,1,2,3]
		
		var datas = {
			"datas":{
				user_id 	: user_id,
				status_admin : status_admin,
				store_id:store_id
			}
		}	
		//console.log(datas);
		//return;
		ojs_bussiness.ajax_load_products(datas);	

	});//end of function		
			
	
	
	//@
	//goi ajax
	$(document).on('click','#complate',function(e) {	
		e.preventDefault();
		//@
		//@
		let user_id = $('#user_id').val();
		let store_id = $('#store_id').val();
		let status_admin = [1]
		
		var datas = {
			"datas":{
				user_id 	: user_id,
				status_admin : status_admin,
				store_id:store_id
			}
		}	
		//console.log(datas);
		//return;
		ojs_bussiness.ajax_load_products(datas);	

	});//end of function

	//@
	//goi ajax
	$(document).on('click','#new',function(e) {	
		e.preventDefault();
		//@
		//@
		let user_id = $('#user_id').val();
		let store_id = $('#store_id').val();
		let status_admin = [0];
		
		
		var datas = {
			"datas":{
				user_id 	: user_id,
				status_admin : status_admin,
				store_id:store_id
			}
		}	
		//console.log(datas);
		//return;
		ojs_bussiness.ajax_load_products(datas);	

	});//end of function

	//@
	//goi ajax
	$(document).on('click','#update',function(e) {	
		e.preventDefault();
		//@
		//@
		let user_id = $('#user_id').val();
		let store_id = $('#store_id').val();
		let status_admin = [2]
		
		var datas = {
			"datas":{
				user_id 	: user_id,
				status_admin : status_admin,
				store_id:store_id
			}
		}	
		//console.log(datas);
		//return;
		ojs_bussiness.ajax_load_products(datas);	

	});//end of function


	//@
	//goi ajax
	$(document).on('click','#not',function(e) {	
		e.preventDefault();
		//@
		//@
		let user_id = $('#user_id').val();
		let store_id = $('#store_id').val();
		let status_admin = [3]
		
		var datas = {
			"datas":{
				user_id 	: user_id,
				status_admin : status_admin,
				store_id:store_id
			}
		}	
		//console.log(datas);
		//return;
		ojs_bussiness.ajax_load_products(datas);	

	});//end of function	
	*/
	
	//
///////////////////////////////////////////////////////
});//end of document
</script>




<% include ../../masterpage/loader-end %>